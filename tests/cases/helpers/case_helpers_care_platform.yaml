CarePlatformLogout:
  Environment: Settings 
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:     
      # Log out to the Care Platform app with Care Partners account
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.user_dropdown_button$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_header.logout_menu_button$
    - Type: click
      Strategy: xpath
      Id: //button[contains(text(),'$AND_CLI_LOGOUT_OPTION$')]
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_login.login_button$

CarePartnerLogin:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: navigate
      Role: desktopChrome
      Value: $AND_CLI_care_platform_url$
    - Type: maximize
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.email_input$
      Value: $AND_CLI_carepartner_user1$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.password_input$
      Value: $AND_CLI_carepartner_user1_pwd$
    - Type: click
      Strategy: xpath
      Role: desktopChrome
      Id: $PAGE.care_platform_login.login_button$
    - Type: sleep
      Time: 2
#    - Type: if
#      If_Cases:
#      - If_Case: VerifyEmail

CarePartnerLoginSecondaryUser:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: navigate
      Role: desktopChrome
      Value: $AND_CLI_care_platform_url$
    - Type: maximize
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.email_input$
      Value: $AND_CLI_carepartner_user2$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_login.password_input$
      Value: $AND_CLI_carepartner_user2_pwd$
    - Type: click
      Strategy: xpath
      Role: desktopChrome
      Id: $PAGE.care_platform_login.login_button$
    - Type: sleep
      Time: 2

VerifyEmail:
  Roles:
    - Role: desktopChrome
      App: desktop
  Actions:
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_verify_account.email_button$

SetScheduledCallForSeniors:
  Environment: Settings 
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin   
    # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_1_td$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    - Type: generate_unique_name
      Name: "Automation Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: 800a
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: 900p
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
    # Filling the Situation fields
    # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
    # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.reason_for_request_covid_options$
    # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
    # Get timestamp where event was sent to Senior.
    - Type: get_local_timestamp
      Format: "%c"
      Var: EVENT_SENT_TIMESTAMP
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$

SetPastEventForSeniors:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      Capabilities:
        chromeOptions:
          args:
            - use-fake-ui-for-media-stream
            - use-fake-device-for-media-stream
            - no-sandbox
            - disable-gpu
      App: desktop       
  Actions:   
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin
      # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
      # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_1_td$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
      # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    #Generate unique name for the event.
    - Type: generate_unique_name
      Name: "Automation Sched Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    #Set a time in the past for the event to start
    - Type: get_past_timestamp
      Format: "%I%M%p"
      Var: PAST_START_TIME
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_PAST_START_TIME$
    # Set now time to end the event.
    - Type: get_local_timestamp
      Format: "%I%M%p"
      Var: NOW_END_TIME
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_NOW_END_TIME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
      # Filling the Situation fields
      # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
      # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.reason_for_request_covid_options$
      # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
      # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
      # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

SetScheduledCallForSeniorsToStartIn7Minutes:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:   
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin
      # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
      # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_1_td$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
      # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    #Generate unique name for the event.
    - Type: generate_unique_name
      Name: "Automation Sched Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    #Set a time in the future for the event to start in 7 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 7
      Format: "%I%M%p"
      Var: FUTURE_START_6MINUTES
    - Type: get_timestamp_plus_minutes
      Minutes: 7
      Format: "%-I:%M%P"
      Var: FUTURE_START_6MINUTES_FOR_COMPARISON
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_6MINUTES$
    # Set end time to end event in 30 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 30
      Format: "%I%M%p"
      Var: FUTURE_START_30MINUTES
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_30MINUTES$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
      # Filling the Situation fields
      # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
      # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.reason_for_request_covid_options$
      # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
      # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
      # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

SetScheduledCallForSeniorsToStartIn11Minutes:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:   
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin
      # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
      # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_1_td$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
      # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    #Generate unique name for the event.
    - Type: generate_unique_name
      Name: "Automation Sched Event"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    #Set a time in the future for the event to start in 11 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 11
      Format: "%I%M%p"
      Var: FUTURE_START_6MINUTES
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_6MINUTES$
    # Set end time to end event in 30 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 30
      Format: "%I%M%p"
      Var: FUTURE_START_30MINUTES
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_30MINUTES$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
      # Filling the Situation fields
      # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
      # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.reason_for_request_covid_options$
      # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
      # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
      # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

SetNonTelehealthAppointmentForSenior:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account
    - Type: case
      Value: CarePartnerLogin   
    # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_1_td$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.manual_appointment_option$
    - Type: generate_unique_name
      Name: "Automation Manual Appointment"
      ResultVar: UNIQUE_MANUAL_APPOINTMENT
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_MANUAL_APPOINTMENT$
    - Type: send_keys
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.location_input$
      Value: Automation manual appointment
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: 800a
    - Type: send_keys
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: 900p
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.save_and_close_btn$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

AnswerCallAndRescheduleForOneHourLater:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
# Login to the Care Platform app with Care Partners account.
    - Type: case
      Value: CarePartnerLogin
    # Care partner steps to take the call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.first_call_of_queue$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.answer_call$
    # Edit the event
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.edit_event_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.edit_event_modal_header$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Set a time in the future for the event to start in 60 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%I%M%p"
      Var: FUTURE_START_60MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%-I:%M%P"
      Var: FUTURE_START_60MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_60MINUTES$
    # Set end time to end event in 90 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%I%M%p"
      Var: FUTURE_START_90MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%-I:%M%P"
      Var: FUTURE_START_90MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_90MINUTES$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.save_and_close_btn$
    # Get timestamp where event was rescheduled to Senior.
    - Type: get_local_timestamp
      Format: "%c"
      Var: EVENT_RESCHEDULE_TIMESTAMP
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_saved_notification$
    # Leave call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.leave_call_btn$
    # Fill the notes
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_queue_page.subject_input$
      Value: Automation Post call survey data
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_queue_page.details_textarea$
      Value: Automation Post call survey data   
    - Type: wait_for_property
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$ 
      Property: disabled
      Value: "false"
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$             
    # Fill the Post-call Survey
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$             
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.issue_resolved_yes_radiobutton$          
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.medical_question_option$
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.subcategory_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.located_provider_option$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_and_exit_session_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.call_completed_notification$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

AnswerPastCallAndRescheduleForOneHourLater:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account.
    - Type: case
      Value: CarePartnerLogin
    # Care partner steps to take the call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.first_call_of_queue$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_home.answer_call$
    # Create the new event
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    # Create the event
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$    
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.teleheath_appointment_option$
    - Type: generate_unique_name
      Name: "Autom. Resched"
      ResultVar: UNIQUE_EVENT_NAME
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.subject_input$
      Value: $AND_CLI_UNIQUE_EVENT_NAME$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.date_container$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Set a time in the future for the event to start in 60 minutes.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%I%M%p"
      Var: FUTURE_START_60MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 60
      Format: "%-I:%M%P"
      Var: FUTURE_START_60MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.start_time_picker$
      Value: $AND_CLI_FUTURE_START_60MINUTES$
    # Set end time to end event in 90 mins.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%I%M%p"
      Var: FUTURE_START_90MINUTES
    # Get the schedule time to compare on the future.
    - Type: get_timestamp_plus_minutes
      Minutes: 90
      Format: "%-I:%M%P"
      Var: FUTURE_START_90MINUTES_FOR_COMPARISON
    - Type: send_keys
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.end_time_picker$
      Value: $AND_CLI_FUTURE_START_90MINUTES$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.next_btn$
    # Filling the Situation fields
    # Urgent patient matter
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.urgent_patient_matter_yes_option$
    # Reason for request
    - Type: click
      Strategy: id
      Id: $PAGE.care_platform_call_portal.reason_for_request_select$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.reason_for_request_covid_options$
    # When did symptoms start      
    - Type: click
      Strategy: class
      Id: $PAGE.care_platform_call_portal.symptoms_start_input_container$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.today_date_date_picker$
    # Click in the submit button
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_create_event_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_created_notification$
    # Get timestamp where event was rescheduled to Senior.
    - Type: get_local_timestamp
      Format: "%c"
      Var: EVENT_RESCHEDULE_TIMESTAMP
    # Leave call.
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.leave_call_btn$
    # Fill the notes
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_queue_page.subject_input$
      Value: Automation Post call survey data
    - Type: send_keys
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.providers_call_queue_page.details_textarea$
      Value: Automation Post call survey data   
    - Type: wait_for_property
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$ 
      Property: disabled
      Value: "false"
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.complete_session_btn$             
    # Fill the Post-call Survey
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.non_medical_radiobtn$             
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.issue_resolved_yes_radiobutton$          
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.category_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.medical_question_option$
    - Type: click
      Role: desktopChrome
      Strategy: id
      Id: $PAGE.care_platform_call_portal.subcategory_select$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.located_provider_option$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.submit_and_exit_session_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.call_completed_notification$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout

DeleteFutureEventForSenior:
  Environment: Settings
  Vars:
    LOGOUT_OPTION: "Go Off Shift"
  Roles:
    - Role: desktopChrome
      App: desktop       
  Actions:
    # Login to the Care Platform app with Care Partners account.
    - Type: case
      Value: CarePartnerLogin
    # Navigate to Participants
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_participant$
    # Open the Call Portal
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.senior_1_td$
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform_participant.call_portal_btn$
    - Type: wait_for
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.create_event_btn$   
    # Delete the event
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.participant_schedule_based_on_element$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.delete_event_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.yes_delete_button$
    - Type: click
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_call_portal.yes_delete_button$
    - Type: wait_for
      Role: desktopChrome
      Strategy: xpath
      Id: $PAGE.care_platform_notifications.event_deleted_notification$
    # Navigate back to home 
    - Type: click
      Strategy: xpath
      Id: $PAGE.care_platform.navigation_home$
    - Type: case
      Value: CarePlatformLogout